<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Matrícula - UJAP</title>
    <link rel="stylesheet" href="/styles/matricula.css">
  </head>
  <body>
    <div class="header">
      <div class="logo" onclick="volverInicio()" style="cursor: pointer;">
        <a href="/matricula">
          <img src="/images/logo-ujap.png" alt="Logo UJAP" class="logo-img" />
        </a>
        <div>
          <h1>Universidad José Antonio Páez</h1>
          <p>J-30400858-9</p>
        </div>
        <div class="campus">
        <h2> Sede San Diego</h2>
      </div>
      </div>
      <button class="logout" onclick="localStorage.removeItem('loggedUser'); location.href='/'">Salir</button>
    </div>
      
      <div class="student-bar">
        <p id="nombre-estudiante">Franchesca Karina Gonzalez Mora</p>
      </div>
      
    </div>

    <div class="main">
      <aside class="sidebar">
        <ul>
          <li onclick="mostrarVista('inicio')"><strong>Inicio</strong></li>
          <li onclick="mostrarVista('resumen')">Resumen del Alumno</li>
          <li onclick="descargarNormas()">Normas y Reglamentos</li>
          <li onclick="mostrarVista('notas')">Notas Alumno</li>
          <li onclick="mostrarVista('pago')">Registrar Pago</li>
          <li onclick="mostrarVista('horario')">Horario Personal</li>
          <li onclick="mostrarVista('carnet')">Carnet Institucional</li>
          <li onclick="mostrarVista('actualizar')">Actualizar Datos del Usuario</li>
        </ul>
      </aside>

      <!-- Vista Principal (Inicio) -->
      <section class="dashboard" id="contenido-principal">
        <!-- Todo el contenido original de matricula.astro -->
        <div class="top-buttons">
          <button onclick="mostrarVista('notas')">Notas Alumno</button>
          <button onclick="mostrarVista('pago')">Registrar Pago</button>
          <button onclick="mostrarVista('horario')">Horario Personal</button>
          <button onclick="mostrarVista('carnet')">Carnet Institucional</button>
          <button onclick="mostrarVista('actualizar')">Actualizar Datos del Usuario</button>
        </div>

        <div class="student-info">
          <div class="student-photo-wrapper">
            <img id="foto-estudiante" src="/images/foto-estudiante.png" alt="Foto del estudiante" class="student-photo" />
          </div>
          <div class="info">
            <p><strong>Apellidos y Nombres:</strong> <span id="nombre-completo">GONZALEZ MORA, FRANCHESCA KARINA</span></p>
            <p><strong>Carrera:</strong> BIC INGENIERIA DE COMPUTACIÓN</p>
            <p><strong>Periodo:</strong> 20252CR</p>
            <p><strong>Cohorte:</strong> 56</p>
            <p><strong>Estado Académico:</strong> ALUMNO REGULAR Activo</p>
            <p><strong>Estatus Administrativo:</strong> Sin Beca</p>
          </div>
        </div>

        <div class="alert">
          <p><strong style="color:red">No Tiene Orden de Inscripción aún, ya que es un ALUMNO REGULAR ACTIVO del 20252CR</strong></p>
        </div>

        <div class="cost-info">
        <h3>Costos Vigentes - Período Lectivo 20253CR</h3>
        <table class="cost-table">
          <thead>
            <tr>
              <th>Unidades Inscritas</th>
              <th>Inscripción</th>
              <th>Servicio Estudiantil de Salud, Seguridad</th>
              <th>Crédito<br>(Inscripción + Salud)</th>
              <th>Semestre</th>
              <th>Cuotas</th>
              <th>c/Cuota</th>
              <th>Contado<br>(Inscripción + Semestre + Salud)</th>
              <th>UC Exceso</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>UC ≤ 5</td>
              <td>187,0000</td>
              <td>45,0000</td>
              <td>232,0000</td>
              <td>555,0000</td>
              <td>5</td>
              <td>111,0000</td>
              <td>787,0000</td>
              <td>—</td>
            </tr>
            <tr>
              <td>6 &lt; UC ≤ 10</td>
              <td>187,0000</td>
              <td>45,0000</td>
              <td>232,0000</td>
              <td>666,0000</td>
              <td>5</td>
              <td>133,2000</td>
              <td>898,0000</td>
              <td>—</td>
            </tr>
            <tr>
              <td>UC &gt; 10</td>
              <td>187,0000</td>
              <td>45,0000</td>
              <td>232,0000</td>
              <td>925,0000</td>
              <td>5</td>
              <td>185,0000</td>
              <td>1.157,0000</td>
              <td>20,0000</td>
            </tr>
          </tbody>
        </table>
        <p class="rate-note">La tasa del día de hoy 01/08/2025 para los depósitos, pago web banco y/o transferencias, realizados el día de hoy es <strong>125,420 Bs</strong>, según la tasa oficial del BCV.</p>
        <p class="cost-note">
          El costo de la Inversión Matricular del Semestre/Trimestre, Inscripción, Preinscripción, Servicio Estudiantil de Salud Seguridad, Cuotas, Aranceles, Constancias y otros que aparece en las Tablas de Inversión de Pregrado/Postgrado y/o de Aranceles vigentes respectivamente, al igual en caso de pago fraccionado, se calculará en Bolívares Digitales, de acuerdo al valor vigente de la tasa oficial del BCV en la Fecha en que se realiza el último pago de los mismos.
        </p>
      </div>

        <div class="tables">
          <div class="cost-info">
            <h3>Datos Administrativos</h3>

            <div class="admin-data-grid">
              <!-- Tabla de cuotas -->
              <table class="admin-table">
                <thead>
                  <tr>
                    <th>Descripción</th>
                    <th>Giro</th>
                    <th>Vencimiento</th>
                    <th>Monto Bs.</th>
                    <th>Fecha Pago</th>
                    <th>Estado</th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="vencido">
                    <td>Cuota</td>
                    <td>1</td>
                    <td>09/06/2025</td>
                    <td>168,00</td>
                    <td>21.070,56</td>
                    <td class="estado-rojo">Vencido</td>
                  </tr>
                  <tr class="vencido">
                    <td>Cuota</td>
                    <td>2</td>
                    <td>30/06/2025</td>
                    <td>168,00</td>
                    <td>21.070,56</td>
                    <td class="estado-rojo">Vencido</td>
                  </tr>
                  <tr class="vencido">
                    <td>Cuota</td>
                    <td>3</td>
                    <td>21/07/2025</td>
                    <td>168,00</td>
                    <td>21.070,56</td>
                    <td class="estado-rojo">Vencido</td>
                  </tr>
                  <tr>
                    <td>Cuota</td>
                    <td>4</td>
                    <td>11/08/2025</td>
                    <td>168,00</td>
                    <td>21.070,56</td>
                    <td></td>
                  </tr>
                  <tr>
                    <td>Cuota</td>
                    <td>5</td>
                    <td>01/09/2025</td>
                    <td>168,00</td>
                    <td>21.070,56</td>
                    <td></td>
                  </tr>
                  <tr class="total-row">
                    <td colspan="5" style="text-align: right; font-weight: bold;">Monto Cuotas Ajuste de Cuotas x Pagar (e):</td>
                    <td>(105.352,80)</td>
                  </tr>
                  <tr class="total-row rojo">
                    <td colspan="5" style="text-align: right; font-weight: bold;">Total Deuda (e+b+c-d):</td>
                    <td>(105.352,80)</td>
                  </tr>
                </tbody>
              </table>

              <!-- Tabla lateral -->
              <table class="admin-side-table">
                <thead>
                  <tr><th colspan="2">Giros Vencidos</th></tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Saldo (a):</td>
                    <td>63.211,68</td>
                  </tr>
                  <tr>
                    <td>(b):</td>
                    <td>0,00</td>
                  </tr>
                </tbody>
                <thead>
                  <tr><th colspan="2">Saldos</th></tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Otras deudas (c):</td>
                    <td>0,00</td>
                  </tr>
                  <tr>
                    <td>Disponible (d):</td>
                    <td>0,00</td>
                  </tr>
                  <tr class="total-row rojo">
                    <td>Saldo al día de Hoy (a+b+c-d):</td>
                    <td>(63.211,68)</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div class="horario-info">
              <p><strong>Horario de Caja durante la Inscripción</strong></p>
              <p>Entrega de Tickets: 08:00 am a 04:30 pm</p>
              <p>Atención al Estudiante: 08:00 am hasta que se atiendan a todos los que tengan Ticket del día</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Vista de Resumen del Alumno (solo info personal) -->
      <section class="dashboard" id="vista-resumen" style="display: none;">
        <div class="student-info">
          <div class="student-photo-wrapper">
            <img id="foto-estudiante-resumen" src="/images/foto-estudiante.png" alt="Foto del estudiante" class="student-photo" />
          </div>
          <div class="info">
            <p><strong>Apellidos y Nombres:</strong> <span id="nombre-completo-resumen">GONZALEZ MORA, FRANCHESCA KARINA</span></p>
            <p><strong>Carrera:</strong> BIC INGENIERIA DE COMPUTACIÓN</p>
            <p><strong>Periodo:</strong> 20252CR</p>
            <p><strong>Cohorte:</strong> 56</p>
            <p><strong>Estado Académico:</strong> ALUMNO REGULAR Activo</p>
            <p><strong>Estatus Administrativo:</strong> Sin Beca</p>
          </div>
        </div>
      </section>

      <!-- Otras vistas (Notas, Pago, Horario, Carnet, Actualizar) -->
      <div id="vista-notas" style="display: none;">
        <h2 style="color: red; font-size: 24px; font-weight: bold;">
          INSOLVENTE,<br>
          FAVOR PAGUE PARA VER SUS NOTAS. GRACIAS
        </h2>
      </div>

      <div id="vista-pago" style="display: none;">
        <h2>Registrar Pago</h2>
        <!-- Contenido del formulario de pago -->
      </div>

      <div id="vista-horario" style="display: none;">
        <h2>Horario Personal</h2>
        <!-- Contenido del horario -->
      </div>

      <div id="vista-carnet" style="display: none;">
        <h2>Carnet Institucional</h2>
        <!-- Contenido del carnet -->
      </div>

      <div id="vista-actualizar" style="display: none;">
        <h2>Actualizar Datos del Usuario</h2>
        <!-- Contenido para actualizar datos -->
      </div>
    </div>

    <script>
      // Datos de los estudiantes
      const estudiantes = {
        'gonzalezf21': {
          nombre: 'Franchesca Karina Gonzalez Mora',
          nombreCompleto: 'GONZALEZ MORA, FRANCHESCA KARINA',
          ci: '30.649.057',
          foto: '/images/foto-estudiante1.png'
        },
        'gonzalezd22': {
          nombre: 'David Alfonso González Pérez',
          nombreCompleto: 'GONZALEZ PÉREZ, DAVID ALFONSO',
          ci: '31.022.273',
          foto: '/images/foto-estudiante2.png'
        },
        'sanchezr22': {
          nombre: 'Rafael Alexander Sánchez Suárez',
          nombreCompleto: 'SÁNCHEZ SUÁREZ, RAFAEL ALEXANDER',
          ci: '29.847.441',
          foto: '/images/foto-estudiante3.png'
        }
      };

      // Función para mostrar vistas
      function mostrarVista(vista) {
        // Ocultar todas las vistas
        document.getElementById('contenido-principal').style.display = 'none';
        document.querySelectorAll('[id^="vista-"]').forEach(v => {
          v.style.display = 'none';
        });
        
        // Mostrar la vista solicitada
        if (vista === 'inicio') {
          document.getElementById('contenido-principal').style.display = 'block';
        } else {
          document.getElementById(`vista-${vista}`).style.display = 'block';
        }
      }

      // Función para volver al inicio
      function volverInicio() {
        mostrarVista('inicio');
      }

      // Función para descargar normas
      function descargarNormas() {
        alert('Descargando normas y reglamentos...');
        // Simulación de descarga
        const link = document.createElement('a');
        link.href = '#';
        link.download = 'normas-y-reglamentos.pdf';
        link.click();
      }

      // Al cargar la página
      document.addEventListener('DOMContentLoaded', () => {
        const usuario = localStorage.getItem('loggedUser');
        
        if (usuario && estudiantes[usuario]) {
          const estudiante = estudiantes[usuario];
          
          // Actualizar información en todas las vistas
          document.getElementById('nombre-estudiante').textContent = estudiante.nombre;
          document.getElementById('nombre-completo').textContent = estudiante.nombreCompleto;
          document.getElementById('nombre-completo-resumen').textContent = estudiante.nombreCompleto;
          
          // Actualizar foto
          document.getElementById('foto-estudiante').src = estudiante.foto;
          document.getElementById('foto-estudiante-resumen').src = estudiante.foto;
        } else {
          window.location.href = '/';
        }
      });
    </script>
  </body>
</html>